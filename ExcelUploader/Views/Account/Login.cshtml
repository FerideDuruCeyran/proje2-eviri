@model ExcelUploader.Models.LoginViewModel
@{
    ViewData["Title"] = "Giriş";
    Layout = "_Layout";
}

<!-- Hero Section -->
<div class="login-hero">
    <div class="container">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6">
                <div class="hero-content text-white">
                    <h1 class="display-4 fw-bold mb-4">
                        <i class="bi bi-file-earmark-excel me-3"></i>
                        Excel Uploader
                    </h1>
                    <p class="lead mb-4">
                        Excel dosyalarınızı kolayca yükleyin, SQL veritabanına aktarın ve verilerinizi profesyonel bir şekilde yönetin.
                    </p>
                    <div class="hero-features">
                        <div class="feature-item">
                            <i class="bi bi-check-circle-fill text-success me-2"></i>
                            <span>Güvenli dosya yükleme</span>
                        </div>
                        <div class="feature-item">
                            <i class="bi bi-check-circle-fill text-success me-2"></i>
                            <span>Otomatik SQL dönüşümü</span>
                        </div>
                        <div class="feature-item">
                            <i class="bi bi-check-circle-fill text-success me-2"></i>
                            <span>Gerçek zamanlı veri analizi</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="login-card">
                    <div class="card border-0 shadow-lg">
                        <div class="card-header text-center py-4">
                            <div class="login-icon mb-3">
                                <i class="bi bi-person-circle"></i>
                            </div>
                            <h3 class="mb-2 fw-bold">Hoş Geldiniz</h3>
                            <p class="text-muted mb-0">Hesabınıza giriş yapın</p>
                        </div>
                        <div class="card-body p-4">
                            <form asp-action="Login" method="post" id="loginForm">
                                <input type="hidden" name="returnUrl" value="@ViewData["ReturnUrl"]" />
                                
                                <div class="form-floating mb-3">
                                    <input asp-for="Email" class="form-control" 
                                           placeholder="ornek@email.com" 
                                           autocomplete="email" 
                                           id="emailInput" />
                                    <label asp-for="Email" for="emailInput">
                                        <i class="bi bi-envelope me-2"></i>
                                        E-posta Adresi
                                    </label>
                                    <span asp-validation-for="Email" class="text-danger small"></span>
                                </div>

                                <div class="form-floating mb-3">
                                    <input asp-for="Password" class="form-control" 
                                           placeholder="Şifrenizi girin" 
                                           autocomplete="current-password" 
                                           id="passwordInput" />
                                    <label asp-for="Password" for="passwordInput">
                                        <i class="bi bi-key me-2"></i>
                                        Şifre
                                    </label>
                                    <span asp-validation-for="Password" class="text-danger small"></span>
                                </div>

                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <div class="form-check">
                                        <input asp-for="RememberMe" class="form-check-input" type="checkbox" id="rememberMe" />
                                        <label class="form-check-label" for="rememberMe">
                                            Beni hatırla
                                        </label>
                                    </div>
                                    <a href="#" class="text-decoration-none small text-primary">Şifremi unuttum</a>
                                </div>

                                <div class="d-grid mb-4">
                                    <button type="submit" class="btn btn-primary btn-lg" id="loginBtn">
                                        <span class="btn-text">
                                            <i class="bi bi-box-arrow-in-right me-2"></i>
                                            Giriş Yap
                                        </span>
                                        <span class="btn-loading d-none">
                                            <span class="spinner-border spinner-border-sm me-2" role="status"></span>
                                            Giriş yapılıyor...
                                        </span>
                                    </button>
                                </div>

                                <div class="text-center">
                                    <p class="text-muted mb-0">
                                        Hesabınız yok mu? 
                                        <a href="@Url.Action("Register", "Account")" class="text-decoration-none fw-bold">
                                            Kayıt olun
                                        </a>
                                    </p>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Demo Account Info -->
                    <div class="demo-account mt-4">
                        <div class="card border-info border-opacity-25">
                            <div class="card-body text-center py-3">
                                <h6 class="card-title text-info mb-2">
                                    <i class="bi bi-info-circle me-2"></i>
                                    Demo Hesap Bilgileri
                                </h6>
                                <div class="demo-credentials">
                                    <div class="credential-item">
                                        <span class="credential-label">E-posta:</span>
                                        <span class="credential-value">admin@exceluploader.com</span>
                                    </div>
                                    <div class="credential-item">
                                        <span class="credential-label">Şifre:</span>
                                        <span class="credential-value">Admin123!</span>
                                    </div>
                                </div>
                                <button class="btn btn-sm btn-outline-info mt-2" onclick="fillDemoCredentials()">
                                    <i class="bi bi-clipboard me-1"></i>
                                    Demo Bilgilerini Doldur
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Form submission with loading state
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            const loginBtn = document.getElementById('loginBtn');
            const btnText = loginBtn.querySelector('.btn-text');
            const btnLoading = loginBtn.querySelector('.btn-loading');
            
            // Show loading state
            btnText.classList.add('d-none');
            btnLoading.classList.remove('d-none');
            loginBtn.disabled = true;
        });

        // Fill demo credentials
        function fillDemoCredentials() {
            document.getElementById('emailInput').value = 'admin@exceluploader.com';
            document.getElementById('passwordInput').value = 'Admin123!';
            
            // Show success message
            showNotification('Demo bilgileri dolduruldu!', 'success');
        }

        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
            notification.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            notification.innerHTML = `
                <i class="bi bi-${type === 'success' ? 'check-circle' : 'info-circle'} me-2"></i>
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(notification);
            
            // Auto-remove after 3 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 3000);
        }

        // Add floating animation to hero icon
        document.addEventListener('DOMContentLoaded', function() {
            const heroIcon = document.querySelector('.bi-file-earmark-excel');
            if (heroIcon) {
                heroIcon.style.animation = 'float 3s ease-in-out infinite';
            }
        });
    </script>
}
